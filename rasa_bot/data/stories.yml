version: "3.1"

stories:
  - story: greet and ask for health help
    steps:
    - intent: greet
    - action: utter_greet
    - intent: ask_symptoms
    - action: utter_symptoms_help
    - action: action_symptom_analysis

  - story: vaccination inquiry flow
    steps:
    - intent: greet
    - action: utter_greet
    - intent: ask_vaccination
    - action: utter_vaccination_info
    - intent: ask_vaccination
      entities:
      - vaccine_type: "COVID"
    - action: utter_vaccination_covid

  - story: emergency help flow
    steps:
    - intent: ask_emergency
    - action: utter_emergency

  - story: health tips conversation
    steps:
    - intent: ask_general_health
    - action: utter_general_health
    - intent: affirm
    - action: utter_general_health_detailed

  - story: symptom analysis with severity
    steps:
    - intent: ask_symptoms
      entities:
      - symptom: "fever"
    - action: utter_ask_severity
    - intent: ask_symptoms
      entities:
      - severity: "moderate"
    - action: action_symptom_analysis

  - story: hospital search flow
    steps:
    - intent: ask_hospitals
    - action: utter_ask_hospitals
    - intent: ask_location
      entities:
      - location: "Delhi"
    - action: action_find_hospitals

  - story: outbreak information
    steps:
    - intent: ask_outbreak_info
    - action: utter_outbreak_info
    - action: action_get_outbreak_info

  - story: medication safety
    steps:
    - intent: ask_medication
    - action: utter_medication_info

  - story: mental health support
    steps:
    - intent: ask_mental_health
    - action: utter_mental_health

  - story: bot challenge
    steps:
    - intent: bot_challenge
    - action: utter_iamabot

  - story: prevention tips
    steps:
    - intent: ask_prevention
    - action: utter_prevention_tips

  - story: cost inquiry
    steps:
    - intent: ask_cost
    - action: utter_cost_info

  - story: goodbye flow
    steps:
    - intent: goodbye
    - action: utter_goodbye

rules:
  - rule: Say goodbye anytime the user says goodbye
    steps:
    - intent: goodbye
    - action: utter_goodbye

  - rule: Emergency response
    steps:
    - intent: ask_emergency
    - action: utter_emergency

  - rule: Bot challenge
    steps:
    - intent: bot_challenge
    - action: utter_iamabot

  - rule: Greet user
    steps:
    - intent: greet
    - action: utter_greet

  - rule: Default fallback
    steps:
    - intent: nlu_fallback
    - action: utter_default
